## Итоговая структура проекта с двумя парсерами

```
parser/
├── utils/
│   ├── __init__.py
│   ├── logging_setup.py     # Настройка логирования
│   ├── browser_utils.py     # Функции для работы с браузером
│   ├── human_behavior.py    # Имитация человеческого поведения
│   ├── cookies_manager.py   # Работа с куками
│   └── ui_utils.py          # UI элементы (прогресс-бар и т.д.)
├── parsers/
│   ├── __init__.py
│   ├── base_parser.py       # Базовый класс парсера
│   ├── etalon_parser.py     # Парсер для Etalon (квартиры)
│   └── link_extractor_parser.py  # Парсер для извлечения ссылок
├── extractors/
│   ├── __init__.py
│   ├── apartment_extractor.py     # Извлечение данных о квартирах
│   ├── features_extractor.py      # Извлечение особенностей
│   └── property_links_extractor.py # Извлечение ссылок на объекты
├── link_extractor/               # Директория для результатов первого парсера
│   ├── extracted_links.json      # Извлеченные ссылки
│   ├── initial_page.html         # Исходная страница
│   ├── final_page.html           # Страница со всеми загруженными объектами
│   └── ... (скриншоты и другие артефакты)
└── main.py                       # Точка входа
```

## Использование

### Для извлечения ссылок на объекты недвижимости:

```bash
python main.py --parser links --headless
```

Это запустит парсер для извлечения ссылок на объекты недвижимости. Результаты будут сохранены в директории `link_extractor`.

### Для парсинга квартир по извлеченным ссылкам:

```bash
python main.py --parser etalon --workers 8 --headless
```

Это запустит парсер для извлечения данных о квартирах из ранее полученных ссылок. Результаты будут сохранены в файл `result.csv`.

Оба парсера используют общие компоненты для безопасного парсинга, имитации человеческого поведения и обработки ошибок. Благодаря использованию мультипроцессинга, парсинг будет выполняться параллельно, что значительно ускорит обработку большого количества ссылок.